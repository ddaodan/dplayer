<!DOCTYPE html>
<html>
    <head>
        <style>
            .artplayer-app {
                display: flex;
                align-items: center;
                justify-content: center;
                width: 100%;
                height: 480px;
            }
        </style>
    </head>
<body>
<div class="artplayer-app">你看你🐎呢？</div>
<script src="https://cdn.jsdelivr.net/npm/artplayer/dist/artplayer.js"></script>
<script src="https://cdn.jsdelivr.net/npm/artplayer-plugin-danmuku/dist/artplayer-plugin-danmuku.js"></script>
<script>
      function getUrlArgs(){
          var url_pid=window.location.search.substring(1);
          var pairs = url_pid.split("&");
          var urlinfo={};
          for(var i = 0; i < pairs.length; i++) { 　
              var pos = pairs[i].indexOf('=');
              urlinfo[pairs[i].substring(0,pos)]=decodeURI(pairs[i].substring(pos+1));
          } ;
          return urlinfo;
      };
      var apaurl=getUrlArgs();
var url=apaurl.url;
var dm=apaurl.dm;

const art = new Artplayer({
    container: '.artplayer-app',
    url: url,
    plugins: [
        artplayerPluginDanmuku({
            danmuku: dm,
        }),
    ],
    aspectRatio: true,
    autoMini: true,
    fastForward: true,
    flip: true,
    fullscreen: true,
    fullscreenWeb: true,
    miniProgressBar: true,
    pip: true,
    playbackRate: true,
    setting: true,
});
art.on('artplayerPluginDanmuku:emit', (danmu) => {
    console.info('新增弹幕', danmu);
    alert("本站弹幕使用Bilibili的弹幕，您无法直接发送弹幕，请到Bilibili发送！")
});
</script>
</body>
</html>
